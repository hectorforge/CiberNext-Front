<div class="min-h-screen flex justify-center items-center bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400">
  <form [formGroup]="form" (ngSubmit)="handleSubmit()"
    class="bg-white/80 backdrop-blur-lg p-8 rounded-3xl shadow-xl space-y-4 w-96"
  >
    <h2 class="text-2xl font-bold text-center text-gray-700">Cambiar Contraseña</h2>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Contraseña Actual</label>
      <input type="password" formControlName="actualPassword"
        class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none placeholder-gray-500"
        placeholder="Ingresa tu contraseña actual"
      >
      @if (form.get('actualPassword')?.touched && form.get('actualPassword')?.invalid) {
        <p class="text-red-500 text-sm">{{ getErrorMessage('actualPassword') }}</p>
      }
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Nueva Contraseña</label>
      <input type="password" formControlName="nuevaPassword"
        class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none placeholder-gray-500"
        placeholder="Nueva contraseña"
      >
      @if (form.get('nuevaPassword')?.touched && form.get('nuevaPassword')?.invalid) {
        <p class="text-red-500 text-sm">{{ getErrorMessage('nuevaPassword') }}</p>
      }
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Confirmar Nueva Contraseña</label>
      <input type="password" formControlName="confirmarPassword"
        class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none placeholder-gray-500"
        placeholder="Confirma tu nueva contraseña"
      >
      @if (form.get('confirmarPassword')?.touched && form.get('confirmarPassword')?.invalid) {
        <p class="text-red-500 text-sm">{{ getErrorMessage('confirmarPassword') }}</p>
      }
    </div>

    @if (successMessage) {
      <p class="text-green-500 text-sm">{{ successMessage }}</p>
    }
    @if (errorMessage) {
      <p class="text-red-500 text-sm">{{ errorMessage }}</p>
    }

    <button
      class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 rounded-lg shadow-md hover:opacity-90 active:scale-95 transition"
      [disabled]="loading"
    >
      {{ loading ? 'Cambiando...' : 'Cambiar Contraseña' }}
    </button>
  </form>
</div>
